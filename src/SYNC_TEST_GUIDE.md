# 🧪 Admin ↔ Front 동기화 테스트 가이드

작성일: 2025-11-26

---

## 🎯 테스트 목적

Admin과 Front 간 데이터 동기화가 정상 작동하는지 확인합니다.

---

## ✅ 테스트 시나리오 1: Admin → Front 동기화

### **목표:** Admin에서 변경한 내용이 Front에 즉시 반영되는가?

### **단계:**

#### 1. Admin 페이지 열기
```
URL: https://your-domain.com/admin.html
또는 로컬: http://localhost:3000/admin.html
```

#### 2. 메뉴 관리 탭에서 페이지 선택
```
1. "메뉴 관리" 탭 클릭
2. 대메뉴 목록에서 "로그인" 선택 (왼쪽)
3. 소메뉴 목록에서 "로그인 관리자" 선택 (오른쪽)
4. "편집" 버튼 클릭
```

#### 3. 제목 수정
```
1. "기본 정보" 탭에서
2. 한국어 제목: "관리자 로그인" → "시스템 관리자 로그인"
3. 영어 제목: "Admin Login" → "System Admin Login"
```

#### 4. 저장 버튼 클릭
```
1. 우측 상단 "저장" 버튼 클릭
2. Toast 알림 확인: "✅ 저장되었습니다"
3. 콘솔 확인:
   ✅ [LanguageContext] Saving to Supabase... { translationsKoKeys: 200, ... }
   ✅ [LanguageContext] ✅ Saved to Supabase successfully
```

#### 5. Front 페이지에서 확인
```
1. 새 탭 열기: https://your-domain.com/
2. 사이드바에서 "로그인" 메뉴 펼치기
3. "시스템 관리자 로그인" 메뉴 클릭
4. 페이지 제목이 "시스템 관리자 로그인"으로 표시됨 ✅
5. 우측 상단 언어 전환 "EN" 클릭
6. 페이지 제목이 "System Admin Login"으로 표시됨 ✅
```

### **예상 결과:**
- ✅ Admin에서 변경한 내용이 Front에 즉시 반영됨
- ✅ 한국어/영어 모두 정상 표시
- ✅ 새로고침 불필요

---

## ✅ 테스트 시나리오 2: Front 상태 → Admin 동기화

### **목표:** Front에서 보이는 데이터가 Admin에서도 동일하게 보이는가?

### **단계:**

#### 1. Front 페이지 열기
```
URL: https://your-domain.com/
```

#### 2. 특정 페이지의 현재 상태 확인
```
1. 사이드바에서 "로그인 > 관리자" 선택
2. 현재 제목: "관리자 로그인"
3. 현재 소개: "관리자 계정으로 로그인하는 방법을 안내합니다."
4. Step 1 제목: "로그인 페이지 접속"
5. Step 1이 표시되는지 확인 (visible: true)
```

#### 3. Admin 페이지 열기
```
1. 새 탭에서 Admin 열기
2. "메뉴 관리" > "로그인" > "관리자" 선택
3. "편집" 버튼 클릭
```

#### 4. Admin에서 데이터 확인
```
1. "기본 정보" 탭:
   - 한국어 제목: "관리자 로그인" ✅
   - 한국어 소개: "관리자 계정으로..." ✅
2. "Step 관리" 탭:
   - Step 1 제목: "로그인 페이지 접속" ✅
   - "매뉴얼에 표시" 체크박스: ✅ (체크됨)
```

### **예상 결과:**
- ✅ Front에서 보이는 데이터와 Admin에서 편집하는 데이터가 동일
- ✅ Step 표시/숨김 상태도 일치

---

## ✅ 테스트 시나리오 3: Step 표시/숨김 제어

### **목표:** Admin에서 Step을 숨기면 Front에서도 숨겨지는가?

### **단계:**

#### 1. Admin에서 Step 숨기기
```
1. "메뉴 관리" > "로그인" > "관리자" 선택
2. "Step 관리" 탭에서 Step 1 찾기
3. "매뉴얼에 표시" 체크박스 해제 (체크 제거)
4. "저장" 버튼 클릭
5. Toast 확인: "✅ 저장되었습니다"
```

#### 2. Front에서 확인
```
1. Front 페이지로 이동
2. "로그인 > 관리자" 페이지 선택
3. Step 1이 사라짐 ✅
4. Step 2 (visible: true인 경우)만 표시됨 ✅
```

#### 3. Admin에서 Step 다시 표시
```
1. Admin 페이지로 돌아가기
2. "매뉴얼에 표시" 체크박스 다시 체크
3. "저장" 버튼 클릭
```

#### 4. Front에서 다시 확인
```
1. Front 페이지로 이동
2. "로그인 > 관리자" 페이지 선택
3. Step 1이 다시 나타남 ✅
```

### **예상 결과:**
- ✅ Admin에서 Step 표시/숨김 제어가 Front에 즉시 반영됨

---

## ✅ 테스트 시나리오 4: 이미지 업로드 및 동기화

### **목표:** Admin에서 이미지를 업로드하면 Front에 표시되는가?

### **단계:**

#### 1. Admin에서 이미지 업로드
```
1. "메뉴 관리" > "로그인" > "관리자" 선택
2. "Step 관리" 탭에서 Step 1 찾기
3. "한국어 이미지" 섹션에서 "업로드" 버튼 클릭
4. 이미지 파일 선택 (예: login-screenshot.png)
5. 업로드 완료 대기 (프로그레스 바)
6. "이미지 표시" 체크박스 체크 ✅
7. "저장" 버튼 클릭
```

#### 2. Front에서 확인
```
1. Front 페이지로 이동
2. "로그인 > 관리자" 페이지 선택
3. Step 1 아래에 업로드한 이미지가 표시됨 ✅
```

#### 3. 이미지 숨기기
```
1. Admin에서 "이미지 표시" 체크박스 해제
2. "저장" 버튼 클릭
3. Front에서 이미지가 사라짐 ✅
```

### **예상 결과:**
- ✅ Admin에서 업로드한 이미지가 Front에 표시됨
- ✅ 이미지 표시/숨김 제어가 정상 작동

---

## ✅ 테스트 시나리오 5: 언어별 이미지 전환

### **목표:** 한국어/영어 개별 이미지가 정상 전환되는가?

### **단계:**

#### 1. Admin에서 언어별 이미지 업로드
```
1. "Step 관리" > Step 1
2. 한국어 이미지: login-ko.png 업로드
3. 영어 이미지: login-en.png 업로드
4. "이미지 표시" 체크 ✅
5. "저장" 버튼 클릭
```

#### 2. Front에서 한국어 이미지 확인
```
1. Front 페이지 열기
2. 우측 상단 언어 선택: "한국어" ✅
3. "로그인 > 관리자" 페이지 선택
4. login-ko.png 이미지가 표시됨 ✅
```

#### 3. Front에서 영어 이미지 확인
```
1. 우측 상단 언어 선택: "EN" 클릭
2. login-en.png 이미지로 전환됨 ✅
```

### **예상 결과:**
- ✅ 언어 전환 시 이미지도 함께 전환됨
- ✅ 한국어/영어 개별 이미지 정상 작동

---

## ✅ 테스트 시나리오 6: Feature 카드 동기화

### **목표:** StartFeaturesPage의 Feature 카드 편집이 정상 동기화되는가?

### **단계:**

#### 1. Admin에서 Feature 카드 추가
```
1. "메뉴 관리" > "시작하기" > "DMS 주요 기능" 선택
2. "Feature 카드 관리" 탭
3. "새 카드 추가" 버튼 클릭
4. 한국어 제목: "회원 관리"
5. 한국어 설명: "회원 정보를 쉽게 관리할 수 있습니다."
6. 영어 제목: "Member Management"
7. 영어 설명: "Manage member information easily."
8. 아이콘: "👥"
9. "표시" 체크박스 ✅
10. "저장" 버튼 클릭
```

#### 2. Front에서 확인
```
1. Front 페이지 열기
2. "시작하기 > DMS 주요 기능" 페이지 선택
3. "👥 회원 관리" 카드가 표시됨 ✅
4. 카드 내용 확인:
   - 제목: "회원 관리" ✅
   - 설명: "회원 정보를 쉽게 관리할 수 있습니다." ✅
```

#### 3. 카드 숨기기 테스트
```
1. Admin에서 "표시" 체크박스 해제
2. "저장" 버튼 클릭
3. Front에서 해당 카드가 사라짐 ✅
```

### **예상 결과:**
- ✅ Feature 카드 추가/편집/삭제가 Front에 즉시 반영됨

---

## ✅ 테스트 시나리오 7: Notice (Accordion) 동기화

### **목표:** NoticeListPage의 공지사항 편집이 정상 동기화되는가?

### **단계:**

#### 1. Admin에서 공지사항 추가
```
1. "메뉴 관리" > "공지사항" > "서비스 공지" 선택
2. "공지사항 관리" 탭
3. "새 공지 추가" 버튼 클릭
4. 한국어 제목: "[중요] 정기 점검 안내"
5. 한국어 내용: "<p>2024년 12월 1일 새벽 2시~4시까지 정기 점검이 진행됩니다.</p>"
6. 영어 제목: "[Important] Scheduled Maintenance"
7. 영어 내용: "<p>Maintenance from 2AM to 4AM on Dec 1, 2024.</p>"
8. 날짜 (한국어): "2024. 11. 26"
9. 날짜 (영어): "Nov 26, 2024"
10. "중요" 체크 ✅
11. "신규" 체크 ✅
12. "표시" 체크 ✅
13. "저장" 버튼 클릭
```

#### 2. Front에서 확인
```
1. Front 페이지 열기
2. "공지사항 > 서비스 공지" 페이지 선택
3. Accordion 리스트에서 새 공지사항 확인:
   - 배지: "중요" (빨간색) + "신규" (초록색) ✅
   - 제목: "[중요] 정기 점검 안내" ✅
   - 날짜: "2024. 11. 26" ✅
4. Accordion 클릭하여 펼치기
5. 내용 표시: "2024년 12월 1일..." ✅
```

#### 3. 언어 전환 확인
```
1. 우측 상단 "EN" 클릭
2. 제목: "[Important] Scheduled Maintenance" ✅
3. 날짜: "Nov 26, 2024" ✅
4. Accordion 펼쳐서 영어 내용 확인 ✅
```

### **예상 결과:**
- ✅ 공지사항 추가/편집이 Front에 즉시 반영됨
- ✅ 배지 설정이 정상 작동
- ✅ HTML 콘텐츠 정상 표시

---

## 🐛 문제 발생 시 체크리스트

### ❌ Admin에서 저장했는데 Front에 반영 안됨

**확인사항:**
```
1. Admin 콘솔에서 "✅ Saved to Supabase successfully" 확인
2. Front 페이지 강제 새로고침 (Ctrl + Shift + R)
3. 브라우저 캐시 삭제
4. Supabase 프로젝트 상태 확인
```

**디버깅:**
```javascript
// 콘솔에서 실행
localStorage.clear(); // 캐시 삭제
location.reload(); // 새로고침
```

---

### ❌ Front 상태가 Admin에 반영 안됨

**확인사항:**
```
1. Admin 페이지 새로고침
2. "메뉴 관리" 탭 다시 열기
3. 해당 페이지 다시 선택
```

**디버깅:**
```javascript
// 콘솔에서 현재 데이터 확인
console.log('Translations:', window.languageContext.translations);
console.log('Visibility:', window.languageContext.commonVisibility);
```

---

### ❌ 저장 버튼 클릭해도 반응 없음

**확인사항:**
```
1. 콘솔에서 에러 메시지 확인
2. Network 탭에서 /manual/save 요청 확인
3. Response 상태 코드 확인 (200 OK?)
```

**디버깅:**
```javascript
// 수동으로 저장 테스트
const { saveChanges } = useLanguage();
const result = await saveChanges();
console.log('Save result:', result);
```

---

## 📊 성공 기준

| 테스트 | 상태 | 비고 |
|--------|------|------|
| Admin → Front (제목) | ⬜ | 테스트 필요 |
| Front → Admin (데이터) | ⬜ | 테스트 필요 |
| Step 표시/숨김 | ⬜ | 테스트 필요 |
| 이미지 업로드 | ⬜ | 테스트 필요 |
| 언어별 이미지 | ⬜ | 테스트 필요 |
| Feature 카드 | ⬜ | 테스트 필요 |
| Notice 공지사항 | ⬜ | 테스트 필요 |

**모든 테스트를 통과하면 ✅ 표시!**

---

## 🎉 테스트 완료 체크리스트

- [ ] Admin에서 제목 수정 → Front 반영 확인
- [ ] Admin에서 Step 숨김 → Front에서 사라짐 확인
- [ ] Admin에서 이미지 업로드 → Front에서 표시 확인
- [ ] 언어 전환 시 이미지도 전환 확인
- [ ] Feature 카드 추가 → Front에서 표시 확인
- [ ] Notice 공지사항 추가 → Front에서 Accordion 표시 확인
- [ ] 모든 변경사항을 Front 새로고침 후 유지 확인

**모든 항목을 체크하면 동기화 완료!** 🎉

---

**작성자: AI Assistant**  
**작성일: 2025-11-26**

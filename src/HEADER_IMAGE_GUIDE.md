# 🖼️ 헤더 이미지 ON/OFF + 업로드/URL 선택 완료

## ✅ **최종 개선 완료**

### **헤더 이미지 UI 개선:**

```
Before (단순 URL 입력):
┌──────────────────────────────────────┐
│ 최상단 헤더 이미지 (옵션)            │
├──────────────────────────────────────┤
│ 이미지 URL                            │
│ ┌──────────────────────────────────┐ │
│ │ https://...                      │ │
│ └──────────────────────────────────┘ │
│ [미리보기]                            │
└──────────────────────────────────────┘

After (라디오 버튼 + 업로드/URL):
┌──────────────────────────────────────┐
│ 최상단 헤더 이미지                    │
├──────────────────────────────────────┤
│ ⦿ 사용 안 함 [기본]  ○ 사용함       │
│                                       │
│ [사용함 선택 시]                     │
│ ┌────────────────────────────────┐  │
│ │ ⦿ 이미지 파일 업로드 [권장]    │  │
│ │ ○ URL 주소 입력                │  │
│ │                                 │  │
│ │ [업로드 UI 또는 URL 입력]      │  │
│ │ 💡 권장 사이즈: PNG, 400×800px │  │
│ │ [미리보기]                      │  │
│ └────────────────────────────────┘  │
└──────────────────────────────────────┘
```

---

## 🎯 **주요 개선 사항**

### **1. ON/OFF 라디오 버튼**

```
최상단 헤더 이미지:

⦿ 사용 안 함 [기본]     ← 기본 선택 (default)
○ 사용함                 ← 헤더 이미지 활성화
```

**특징:**
- 기본값: "사용 안 함" (OFF)
- "기본" 배지 표시 (회색)
- OFF 선택 시: 이미지 입력 UI 숨김
- ON 선택 시: 이미지 입력 UI 표시

---

### **2. 이미지 입력 방식 선택 (사용함 선택 시)**

```
⦿ 이미지 파일 업로드 [권장]    ← 기본 선택
  ├─ 드래그 앤 드롭 UI
  ├─ 파일 선택 버튼
  └─ 💡 권장 사이즈: PNG, 400×800px

○ URL 주소 입력                  ← 대안
  ├─ Input 필드
  └─ 외부 URL 지원
```

**특징:**
- Step 이미지와 동일한 UI 패턴
- 파일 업로드 기본 선택
- "권장" 배지 표시 (녹색)
- 실시간 미리보기

---

## 🎨 **UI 구조**

### **1단계: 사용 여부 선택**

```
┌──────────────────────────────────────┐
│ ⦿ 사용 안 함 [기본]                  │
│ ○ 사용함                              │
└──────────────────────────────────────┘

→ "사용 안 함" 선택: 아무것도 표시 안 됨
→ "사용함" 선택: 2단계 UI 표시
```

### **2단계: 입력 방식 선택 (사용함 선택 시)**

```
┌──────────────────────────────────────┐
│ ⦿ 이미지 파일 업로드 [권장]          │
│ ○ URL 주소 입력                       │
│                                       │
│ [파일 업로드 UI 또는 URL 입력]       │
│ 💡 권장 사이즈: PNG, 400×800px       │
│ [미리보기]                            │
└──────────────────────────────────────┘

→ "파일 업로드" 선택: ImageUploader 표시
→ "URL 입력" 선택: Input 필드 표시
```

---

## 🎯 **사용 시나리오**

### **시나리오 1: 헤더 이미지 사용 안 함 (기본)**

```
1. 📝 기본 정보 탭
2. 최상단 헤더 이미지 섹션
3. ⦿ 사용 안 함 [기본] (선택됨)
4. 💾 저장

→ 헤더 이미지 없이 페이지 생성 ✅
```

### **시나리오 2: 파일 업로드로 헤더 이미지 추가**

```
1. 📝 기본 정보 탭
2. 최상단 헤더 이미지 섹션
3. ○ 사용함 (클릭)
   → 이미지 입력 UI 표시
4. ⦿ 이미지 파일 업로드 [권장] (기본 선택됨)
5. 이미지 드래그 앤 드롭
6. 권장 사이즈 확인: PNG, 400×800px
7. 미리보기 확인
8. 💾 저장

→ 헤더 이미지가 추가된 페이지 생성 ✅
```

### **시나리오 3: URL로 헤더 이미지 추가**

```
1. 📝 기본 정보 탭
2. 최상단 헤더 이미지 섹션
3. ○ 사용함 (클릭)
4. ○ URL 주소 입력 (클릭)
5. URL 입력: https://images.unsplash.com/...
6. 미리보기 자동 표시
7. 💾 저장

→ 외부 URL 이미지가 추가된 페이지 생성 ✅
```

### **시나리오 4: 헤더 이미지 제거**

```
1. 📝 기본 정보 탭
2. 최상단 헤더 이미지 섹션
3. ⦿ 사용 안 함 (클릭)
   → 이미지 입력 UI 숨김
   → headerImage 자동으로 "" 으로 설정
4. 💾 저장

→ 헤더 이미지가 제거된 페이지 ✅
```

---

## 📊 **상태 관리**

### **pageData 구조:**

```typescript
const pageData = {
  headerImage: string,              // 이미지 URL
  headerImageEnabled: boolean,      // 사용 여부 (기본: false)
  headerImageInputMethod: "upload" | "url",  // 입력 방식
};
```

### **기본값:**

```typescript
headerImageEnabled: !!headerImage  // 기존 이미지 있으면 true, 없으면 false
headerImageInputMethod: "upload"   // 기본값은 파일 업로드
```

---

## 🎨 **디자인 세부사항**

### **1단계 라디오 버튼:**

```css
⦿ 사용 안 함 [기본]
   └─ font-weight: medium
   └─ 회색 배지: "기본"

○ 사용함
   └─ font-weight: medium
```

### **2단계 라디오 버튼 (사용함 선택 시):**

```css
⦿ 이미지 파일 업로드 [권장]
   └─ font-weight: medium
   └─ 녹색 배지: "권장"

○ URL 주소 입력
   └─ font-weight: medium
```

### **이미지 섹션 박스:**

```css
border: 1px solid border
border-radius: 0.5rem
padding: 1rem
background: muted/20
```

### **배지 스타일:**

```css
[기본]
  └─ background: muted
  └─ color: muted-foreground
  └─ padding: 0.5rem 1rem
  └─ border-radius: 0.25rem

[권장]
  └─ background: green/10
  └─ color: green
  └─ padding: 0.5rem 1rem
  └─ border-radius: 0.25rem
```

---

## 🔍 **조건부 렌더링 로직**

### **사용 여부에 따른 UI 표시:**

```typescript
{/* 헤더 이미지 사용 시 */}
{pageData.headerImageEnabled && (
  <div className="border border-border rounded-lg p-4 bg-muted/20">
    {/* 입력 방식 선택 */}
    {/* 파일 업로드 또는 URL 입력 */}
    {/* 미리보기 */}
  </div>
)}
```

### **입력 방식에 따른 UI 표시:**

```typescript
{/* 파일 업로드 모드 */}
{pageData.headerImageInputMethod !== "url" && (
  <ImageUploader ... />
)}

{/* URL 입력 모드 */}
{pageData.headerImageInputMethod === "url" && (
  <Input ... />
)}
```

### **미리보기 표시:**

```typescript
{pageData.headerImage && (
  <div>
    <Label>미리보기</Label>
    <img src={pageData.headerImage} />
  </div>
)}
```

---

## 📈 **개선 효과**

### **Before (URL만 지원):**

```
- 입력 방식: URL만
- 사용 여부: 불명확 (빈 값으로 판단)
- UI: 항상 표시
- 사용자 경험: 제한적
```

### **After (ON/OFF + 업로드/URL):**

```
- 입력 방식: 파일 업로드 + URL (선택 가능)
- 사용 여부: 명확 (라디오 버튼)
- UI: 필요할 때만 표시
- 사용자 경험: 향상
```

---

## 🎯 **Step 이미지와의 일관성**

### **공통 패턴:**

```
1. 라디오 버튼 선택
   ⦿ 이미지 파일 업로드 [권장]
   ○ URL 주소 입력

2. 조건부 UI 표시
   - 파일 업로드: ImageUploader
   - URL 입력: Input 필드

3. 권장 사이즈 안내
   💡 권장 사이즈: PNG, 400×800px

4. 실시간 미리보기
   이미지 URL이 있으면 자동 표시
```

**차이점:**
- Step 이미지: 항상 사용 가능 (ON/OFF 없음)
- 헤더 이미지: ON/OFF 선택 가능 (옵션)

---

## 💡 **헤더 이미지 vs Step 이미지**

### **헤더 이미지:**

```
위치: 페이지 최상단
용도: 페이지 전체를 대표하는 이미지
ON/OFF: ⦿ 사용 안 함 / ○ 사용함
입력 방식: ⦿ 파일 업로드 / ○ URL 입력
권장 사이즈: PNG, 400×800px
```

### **Step 이미지:**

```
위치: 각 Step 내부
용도: 각 단계를 설명하는 이미지
ON/OFF: 항상 사용 가능 (Step 자체의 visible로 제어)
입력 방식: ⦿ 파일 업로드 / ○ URL 입력
권장 사이즈: PNG, 400×800px
```

---

## 🔧 **수정된 부분**

### **PageEditor.tsx:**

```typescript
// 🆕 pageData에 추가
headerImage: string,
headerImageEnabled: boolean,         // 새로 추가
headerImageInputMethod: "upload" | "url",  // 새로 추가

// 🆕 초기화
headerImageEnabled: !!headerImage,   // 기존 이미지 있으면 true
headerImageInputMethod: "upload",    // 기본값은 파일 업로드
```

### **UI 구조:**

```typescript
// 🆕 1단계: 사용 여부 선택
<div className="flex gap-6 mb-4">
  <label>
    <input type="radio" checked={!pageData.headerImageEnabled} />
    사용 안 함 [기본]
  </label>
  <label>
    <input type="radio" checked={pageData.headerImageEnabled} />
    사용함
  </label>
</div>

// 🆕 2단계: 입력 방식 선택 (사용함 선택 시)
{pageData.headerImageEnabled && (
  <div className="border border-border rounded-lg p-4 bg-muted/20">
    <div className="flex gap-6">
      <label>
        <input type="radio" checked={!== "url"} />
        이미지 파일 업로드 [권장]
      </label>
      <label>
        <input type="radio" checked=== "url"} />
        URL 주소 입력
      </label>
    </div>

    {/* 파일 업로드 또는 URL 입력 */}
    {/* 미리보기 */}
  </div>
)}
```

---

## 🎉 **최종 결과**

### **핵심 개선:**

```
✅ ON/OFF 라디오 버튼 (기본: OFF)
✅ 파일 업로드 + URL 입력 (선택 가능)
✅ 파일 업로드 기본 선택 (권장)
✅ PNG, 400×800px 권장 안내
✅ 실시간 미리보기
✅ Step 이미지와 동일한 UI 패턴
✅ 조건부 렌더링 (필요할 때만 표시)
```

### **사용자 경험:**

```
Before:
"헤더 이미지 URL을 입력해야 하나? 필수인가?"
→ 불명확한 옵션 ❌

After:
"사용 안 함이 기본이네. 필요하면 사용함 선택!"
→ 명확한 옵션 ✅
```

### **워크플로우:**

```
헤더 이미지 추가:
1. ○ 사용함 (클릭)
2. ⦿ 이미지 파일 업로드 [권장] (기본 선택됨)
3. 이미지 드래그 앤 드롭
4. 💡 권장 사이즈 확인: PNG, 400×800px
5. 미리보기 확인
6. 💾 저장

→ 간단하고 직관적! ✅
```

---

## 📚 **요약**

### **헤더 이미지 UI 개선:**

```
┌──────────────────────────────────────┐
│ 최상단 헤더 이미지                    │
├──────────────────────────────────────┤
│                                       │
│ ⦿ 사용 안 함 [기본]  ○ 사용함       │
│                                       │
│ [사용함 선택 시]                     │
│ ┌────────────────────────────────┐  │
│ │ ⦿ 파일 업로드 [권장]           │  │
│ │ ○ URL 입력                     │  │
│ │                                 │  │
│ │ [드래그 앤 드롭 또는 URL]      │  │
│ │ 💡 PNG, 400×800px              │  │
│ │ [미리보기]                      │  │
│ └────────────────────────────────┘  │
│                                       │
└──────────────────────────────────────┘
```

### **Step 이미지 UI (비교):**

```
┌──────────────────────────────────────┐
│ Step 이미지 업로드                    │
├──────────────────────────────────────┤
│                                       │
│ ⦿ 파일 업로드 [권장]  ○ URL 입력    │
│                                       │
│ [드래그 앤 드롭 또는 URL]            │
│ 💡 PNG, 400×800px                    │
│ [미리보기]                            │
│                                       │
└──────────────────────────────────────┘
```

### **차이점:**

```
헤더 이미지:
  ├─ 1단계: ⦿ 사용 안 함 [기본] / ○ 사용함
  └─ 2단계: ⦿ 파일 업로드 / ○ URL 입력

Step 이미지:
  └─ 1단계: ⦿ 파일 업로드 / ○ URL 입력
     (ON/OFF는 Step 카드 헤더의 체크박스로 제어)
```

---

## 🎉 **완료!**

### **주요 개선 사항:**

```
✅ 헤더 이미지 ON/OFF 라디오 버튼 (기본: OFF)
✅ 파일 업로드 + URL 입력 선택 가능
✅ Step 이미지와 동일한 UI 패턴
✅ 권장 사이즈 안내: PNG, 400×800px
✅ 실시간 미리보기
✅ 조건부 렌더링 (필요할 때만 표시)
✅ 명확한 기본값 표시
```

---

**🎉 헤더 이미지 UI 개선 완료!**

**헤더 이미지도 이제 Step 이미지와 동일한 패턴으로 관리할 수 있습니다!**

**지금 바로 테스트해보세요:**

```
https://dms-guide.figma.site/admin
→ 📝 메뉴 관리
→ 페이지 편집
→ 📝 기본 정보 탭
→ 최상단 헤더 이미지 섹션 (개선된 UI!)
```

**주요 기능:**
- ⦿ 사용 안 함 [기본] (기본 선택)
- ○ 사용함 → 이미지 입력 UI 표시
  - ⦿ 이미지 파일 업로드 [권장] (기본 선택)
  - ○ URL 주소 입력 (대안)
- 💡 권장 사이즈: PNG, 400×800px
- 실시간 미리보기

**일관성:**
- Step 이미지와 동일한 UI 패턴
- 동일한 권장 사이즈
- 동일한 입력 방식 선택

매뉴얼 페이지 구성이 더욱 직관적이고 일관성 있게 개선되었습니다! 🚀
